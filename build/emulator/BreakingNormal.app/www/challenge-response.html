<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
    <!-- Good default declaration:
    * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
    * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
    * Disables use of eval() and inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
        * Enable inline JS: add 'unsafe-inline' to default-src
        * Enable eval(): add 'unsafe-eval' to default-src
    * Create your own at http://cspisawesome.com
    -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *" /> -->

    <link rel="stylesheet" type="text/css" href="css/weekly-challenge.css" />
	
	<!-- sidemenu style -->
	<link rel="stylesheet" type="text/css" href="css/side-menu.css" />
	<link rel="stylesheet" href="js/sidr/stylesheets/jquery.sidr.dark.css">
	
    <title>Challenge Response</title>
</head>

<body>

	<!-- sidemenu -->
	<div id='side-menu'></div>

    <div class="main-container">
	
		<div class='video-container'>
			<video id='challenge-video-player' src='' controls='true' style='width:80%;height:300px;'></video>
		</div>
		
		<div class='caption-container' id='timer-caption' style="font-weight:bold;color:maroon;font-size:16px;">
		Replies
		</div>

		<div id='video-responses' style="width:100%;">
			
		</div>
		
		<div class='record-button-container'>
			<img id='takeVideo' src='img/icon-record-stop.png' width="70px" onClick="startCapture();">
		</div>
		
    </div>
	
	
	<!-- all js -->
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>	
	<script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
	<script src="js/app.js"></script>
    <script type="text/javascript">
        app.initialize();
    </script>


	<script type="text/javascript">
	$(document).ready(function() {
		var intUserVideoId = window.localStorage.getItem("show-challenge-response");
		 $.getJSON("http://nad.as/tdo/services/get-challenge-response.php?usrvid="+intUserVideoId,function(result){
			$.each(result, function(i, field){
				document.getElementById("challenge-video-player").src = "http://nad.as/tdo/data/user-videos/"+ field.file_name;
				document.getElementById("challenge-video-player").play();
			});
		 });
	 });
	</script>
	
	
	<!-- Sidr menu -->
    <!-- Include the Sidr JS -->
    <script src="js/sidr/jquery.sidr.js"></script>
    <!-- load sidemenu -->
    <script>

    $(document).ready(function () {
		loadView('sidemenu','side-menu', function(){
		
			  //change caption
			  document.getElementById('side-menu-text').innerHTML = "CHALLENGE RESPONSE";
			  
			  $('#side-menu-link').sidr({
				timing: 'ease-in-out',
				speed: 500
			  });
			

			$( window ).resize(function () {
			  $.sidr('close', 'sidr');
			});

			$('.smooth').click(function () {
			  var target = $(this.hash);

			  $.sidr('close', 'sidr');
			  $('html,body').animate({
				scrollTop: target.offset().top
			  }, 700);
			});
		});
	});
    </script>
	
</body>

</html>